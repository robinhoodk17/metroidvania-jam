[gd_scene load_steps=30 format=3 uid="uid://h8a8r2wb5lu3"]

[ext_resource type="Script" uid="uid://bcji03sv3g5eh" path="res://entities/player/player.gd" id="1_symyc"]
[ext_resource type="Resource" uid="uid://d0781vuxbhofs" path="res://input/left_right.tres" id="2_wvtmh"]
[ext_resource type="Resource" uid="uid://c8h8ki5lw8ydw" path="res://input/up_down.tres" id="3_7thud"]
[ext_resource type="Resource" uid="uid://n7cvsuoh381r" path="res://input/jump.tres" id="4_a1qjk"]
[ext_resource type="Resource" uid="uid://djbmv3glvtkcn" path="res://input/dash.tres" id="5_j3ovn"]
[ext_resource type="Resource" uid="uid://dn7xm7551du3c" path="res://input/throw.tres" id="6_afbqv"]
[ext_resource type="Resource" uid="uid://dscups0415vf3" path="res://input/attack.tres" id="7_gx6sm"]
[ext_resource type="Script" uid="uid://cgrmmvxxkccrt" path="res://entities/player/auto_aim.gd" id="8_7thud"]
[ext_resource type="PackedScene" uid="uid://c3apf5nk6yw5c" path="res://entities/Myck/Myck.glb" id="9_ecg3u"]
[ext_resource type="Material" uid="uid://b0gg4eyj3yc7q" path="res://materials/shader_materials/surface0.tres" id="11_8lqrv"]
[ext_resource type="Material" uid="uid://bc1xo71qbof0p" path="res://materials/shader_materials/surface1.tres" id="12_870r4"]
[ext_resource type="Material" uid="uid://3och035os5v1" path="res://materials/shader_materials/surface2.tres" id="13_ehk3w"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://dwh5faypa8v5s" path="res://entities/Myck/Myck_Animations/animation_tree.tres" id="14_pp3wn"]
[ext_resource type="PackedScene" uid="uid://gbaybbokp4yw" path="res://materials/shader_materials/slash_vfx.tscn" id="16_870r4"]
[ext_resource type="PackedScene" uid="uid://t8ldqeok401r" path="res://materials/shader_materials/hit_vfx.tscn" id="17_ehk3w"]
[ext_resource type="Script" uid="uid://db4gpvhogqsb2" path="res://peyman/camera_3d.gd" id="24_nb4kq"]

[sub_resource type="Curve" id="Curve_symyc"]
_data = [Vector2(0, 0), 0.0, 4.50435, 0, 0, Vector2(0.15, 0.75), 0.0, 0.0, 0, 0, Vector2(0.973, 0.75), 0.0, 0.0, 0, 0, Vector2(1, 1), 1.38649, 0.0, 0, 0]
point_count = 4

[sub_resource type="Curve" id="Curve_abrql"]
_data = [Vector2(0, 1), 0.0, -0.080464, 0, 0, Vector2(1e-05, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -2.95077, 0.0, 0, 0]
point_count = 3

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_pwfib"]

[sub_resource type="BoxShape3D" id="BoxShape3D_fkugw"]
size = Vector3(15, 10, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_bls4j"]
size = Vector3(0.996185, 1.54065, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_rioum"]
size = Vector3(1.445, 2.65, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_rioum"]
radius = 0.4
height = 1.8

[sub_resource type="SphereShape3D" id="SphereShape3D_870r4"]

[sub_resource type="BoxShape3D" id="BoxShape3D_8fjmc"]
size = Vector3(0.1, 1.75, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7prqh"]
radius = 0.676854
height = 2.04704

[sub_resource type="SphereShape3D" id="SphereShape3D_rioum"]
radius = 0.969567

[sub_resource type="BoxShape3D" id="BoxShape3D_8lqrv"]
size = Vector3(3, 3, 3)

[sub_resource type="BoxShape3D" id="BoxShape3D_870r4"]
size = Vector3(8, 8, 8)

[node name="Myck" type="CharacterBody3D" node_paths=PackedStringArray("mesh", "VFX_anim_player", "Hit_VFX", "camera_3d", "hit_box", "hurt_box") groups=["player"]]
collision_layer = 4
collision_mask = 3
axis_lock_linear_z = true
script = ExtResource("1_symyc")
speed = 18.0
acceleration_curve = SubResource("Curve_symyc")
deceleration_curve = SubResource("Curve_abrql")
camera_zoom_min = 0.0
camera_zoom_max = 10.0
mesh = NodePath("MeshParent")
VFX_anim_player = NodePath("Hitbox/Slash_VFX/AnimationPlayer")
Hit_VFX = NodePath("Hitbox/Slash_VFX/Hit_VFX")
left_right = ExtResource("2_wvtmh")
up_down = ExtResource("3_7thud")
jump_action = ExtResource("4_a1qjk")
dash_action = ExtResource("5_j3ovn")
throw_action = ExtResource("6_afbqv")
attack_action = ExtResource("7_gx6sm")
camera_3d = NodePath("Camera3D")
hit_box = NodePath("Hitbox")
hurt_box = NodePath("hurt_box")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_pwfib")

[node name="MeshParent" type="Marker3D" parent="."]

[node name="AutoAim" type="Area3D" parent="MeshParent"]
collision_layer = 0
collision_mask = 64
monitorable = false
script = ExtResource("8_7thud")

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/AutoAim"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.5, 2, 0)
shape = SubResource("BoxShape3D_fkugw")

[node name="PickChild" type="Area3D" parent="MeshParent"]
visible = false
collision_layer = 0
collision_mask = 8
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/PickChild"]
shape = SubResource("BoxShape3D_bls4j")

[node name="Checkpoint" type="Area3D" parent="MeshParent"]
visible = false
collision_layer = 128
collision_mask = 0
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/Checkpoint"]
shape = SubResource("BoxShape3D_rioum")
debug_color = Color(0.670588, 0.564706, 0, 1)

[node name="SpikeHurtbox" type="Area3D" parent="MeshParent"]
collision_layer = 0
collision_mask = 256
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/SpikeHurtbox"]
shape = SubResource("CapsuleShape3D_rioum")
debug_color = Color(1, 0, 0, 1)

[node name="ChildContainer" type="Node3D" parent="MeshParent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.8, 0.5, 0)

[node name="LedgeGrab" type="RayCast3D" parent="MeshParent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.603506, 1.16547, 0)
hit_back_faces = false

[node name="CheckCollisions" type="ShapeCast3D" parent="MeshParent/LedgeGrab"]
shape = SubResource("SphereShape3D_870r4")
target_position = Vector3(0, 1, 0)
debug_shape_custom_color = Color(1, 0, 0, 1)

[node name="WallJump" type="ShapeCast3D" parent="MeshParent"]
shape = SubResource("BoxShape3D_8fjmc")
target_position = Vector3(0.555, 0, 0)

[node name="Myck2" parent="MeshParent" instance=ExtResource("9_ecg3u")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, -0.985252, 0)

[node name="Skeleton3D" parent="MeshParent/Myck2/Deform Armature" index="0"]
bones/0/position = Vector3(-0.0522092, 0.755905, -0.0380584)
bones/0/rotation = Quaternion(0.0160567, 0.858445, -0.13675, 0.494079)
bones/1/position = Vector3(-0.0713876, 0.637798, -0.187577)
bones/1/rotation = Quaternion(0.842457, 0.142574, 0.364174, -0.370562)
bones/1/scale = Vector3(0.998482, 0.998482, 0.998482)
bones/2/position = Vector3(0.0813243, 0.432819, -0.343403)
bones/2/rotation = Quaternion(0.83925, -0.17509, 0.349704, 0.37777)
bones/2/scale = Vector3(1.00069, 1.00069, 1.00069)
bones/3/position = Vector3(-0.167451, 0.141624, -0.115346)
bones/3/rotation = Quaternion(0.80925, 0.14131, 0.216838, -0.527377)
bones/3/scale = Vector3(0.997961, 0.997961, 0.997961)
bones/4/position = Vector3(-0.0636625, 0.05, -0.295113)
bones/4/rotation = Quaternion(-0.683013, -0.183013, -0.183013, 0.683013)
bones/4/scale = Vector3(1, 1, 1)
bones/5/position = Vector3(0.0819556, 0.670067, 0.0682235)
bones/5/rotation = Quaternion(0.843794, 0.181656, 0.502564, -0.0494187)
bones/5/scale = Vector3(1.00413, 1.00413, 1.00413)
bones/6/position = Vector3(0.189243, 0.39033, 0.0980873)
bones/6/rotation = Quaternion(0.715344, -0.144294, 0.514537, 0.450237)
bones/6/scale = Vector3(1.01129, 1.01129, 1.01129)
bones/7/position = Vector3(-0.112389, 0.141313, 0.321311)
bones/7/rotation = Quaternion(0.664669, 0.332372, 0.510019, -0.433156)
bones/7/scale = Vector3(0.99355, 0.99355, 0.99355)
bones/8/position = Vector3(0.0871883, 0.05, 0.26787)
bones/8/rotation = Quaternion(-0.560986, -0.430459, -0.430459, 0.560986)
bones/8/scale = Vector3(1, 1, 1)
bones/9/position = Vector3(-0.0158259, 0.971033, -0.0870101)
bones/9/rotation = Quaternion(0.0431344, 0.762431, -0.0178899, 0.645383)
bones/9/scale = Vector3(0.979339, 1.04265, 0.979338)
bones/10/position = Vector3(0.00905589, 1.24186, -0.0773335)
bones/10/rotation = Quaternion(0.0074414, 0.917343, 0.145987, 0.370291)
bones/10/scale = Vector3(1.03689, 0.882078, 1.03689)
bones/11/position = Vector3(-0.0139541, 1.47502, -0.0107498)
bones/11/rotation = Quaternion(0.0871956, 0.847428, 0.174451, 0.493791)
bones/11/scale = Vector3(0.749958, 1.68976, 0.749388)
bones/12/position = Vector3(-0.0212525, 1.63279, 0.0483413)
bones/12/rotation = Quaternion(-0.755096, -0.281321, -0.152482, 0.572222)
bones/12/scale = Vector3(1, 1, 1)
bones/13/position = Vector3(-0.139285, 1.82895, 0.0388425)
bones/13/rotation = Quaternion(-0.225874, 0.45557, 0.187846, 0.840328)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(-0.059763, 1.85398, 0.0940657)
bones/14/rotation = Quaternion(-0.0381644, 0.882878, 0.0637447, -0.463687)
bones/14/scale = Vector3(1, 1, 1)
bones/15/position = Vector3(0.0571484, 1.42932, 0.0758286)
bones/15/rotation = Quaternion(0.5811, 0.446642, 0.670844, 0.113145)
bones/15/scale = Vector3(1, 1, 1)
bones/16/position = Vector3(0.0938758, 1.37178, 0.148904)
bones/16/rotation = Quaternion(0.613692, 0.437504, 0.655877, 0.0424048)
bones/16/scale = Vector3(1.01845, 0.755345, 1.01845)
bones/17/position = Vector3(0.137826, 1.31576, 0.206054)
bones/17/rotation = Quaternion(0.624717, 0.402707, 0.663839, -0.0829033)
bones/17/scale = Vector3(1.09074, 0.755345, 1.09074)
bones/18/position = Vector3(0.193946, 1.25518, 0.245505)
bones/18/rotation = Quaternion(0.633322, 0.344925, 0.673551, -0.162048)
bones/18/scale = Vector3(1.21022, 0.755346, 1.21022)
bones/19/position = Vector3(0.253919, 1.19024, 0.269248)
bones/19/rotation = Quaternion(0.648552, 0.24906, 0.686853, -0.213499)
bones/19/scale = Vector3(1.37689, 0.755347, 1.37688)
bones/20/position = Vector3(0.310263, 1.11849, 0.275207)
bones/20/rotation = Quaternion(0.68227, 0.0331261, 0.694483, -0.226061)
bones/20/scale = Vector3(1.59074, 0.755346, 1.59074)
bones/21/position = Vector3(0.342539, 1.03802, 0.251622)
bones/21/rotation = Quaternion(0.674211, -0.375174, 0.624857, -0.119325)
bones/21/scale = Vector3(1.85178, 0.755345, 1.85178)
bones/22/position = Vector3(0.310778, 0.976592, 0.19556)
bones/22/rotation = Quaternion(0.597381, -0.524681, 0.60649, -0.00392382)
bones/22/scale = Vector3(2, 2, 2)
bones/23/position = Vector3(-0.263229, 0.818568, 0.0805345)
bones/23/rotation = Quaternion(-0.097889, 0.866899, 0.0641383, 0.484551)
bones/23/scale = Vector3(1, 1, 1)
bones/24/position = Vector3(-0.111752, 1.44112, -0.0848283)
bones/24/rotation = Quaternion(0.683891, -0.635299, 0.345448, -0.0967176)
bones/24/scale = Vector3(1, 1, 1)
bones/25/position = Vector3(-0.191964, 1.42371, -0.14195)
bones/25/rotation = Quaternion(0.695759, -0.562887, 0.417657, -0.156972)
bones/25/scale = Vector3(1.01385, 0.841007, 1.01385)
bones/26/position = Vector3(-0.265569, 1.38793, -0.219671)
bones/26/rotation = Quaternion(-0.728482, 0.401497, -0.48472, 0.270484)
bones/26/scale = Vector3(1.07946, 0.841007, 1.07946)
bones/27/position = Vector3(-0.302138, 1.32773, -0.308423)
bones/27/rotation = Quaternion(-0.746086, 0.256497, -0.525358, 0.318691)
bones/27/scale = Vector3(1.1956, 0.841008, 1.19559)
bones/28/position = Vector3(-0.307573, 1.25221, -0.392998)
bones/28/rotation = Quaternion(0.757448, -0.10498, 0.559581, -0.319562)
bones/28/scale = Vector3(1.36226, 0.841007, 1.36226)
bones/29/position = Vector3(-0.285079, 1.16459, -0.461131)
bones/29/rotation = Quaternion(0.748989, 0.129353, 0.603548, -0.24086)
bones/29/scale = Vector3(1.57946, 0.841007, 1.57946)
bones/30/position = Vector3(-0.231046, 1.06974, -0.483954)
bones/30/rotation = Quaternion(0.649745, 0.458912, 0.605974, -0.00511994)
bones/30/scale = Vector3(1.84719, 0.841007, 1.84719)
bones/31/position = Vector3(-0.164208, 1.00554, -0.422999)
bones/31/rotation = Quaternion(0.618061, 0.552591, 0.536438, 0.157731)
bones/31/scale = Vector3(2, 2, 2)
bones/32/position = Vector3(-0.0164965, 1.88469, -0.0726985)
bones/32/rotation = Quaternion(-0.091137, 0.938541, -0.129415, 0.306735)
bones/32/scale = Vector3(1, 1, 1)

[node name="Myck" parent="MeshParent/Myck2/Deform Armature/Skeleton3D" index="0"]
surface_material_override/0 = ExtResource("11_8lqrv")
surface_material_override/1 = ExtResource("12_870r4")
surface_material_override/2 = ExtResource("13_ehk3w")

[node name="WallJumpFreezeTimer" type="Timer" parent="."]
one_shot = true

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../MeshParent/Myck2")
tree_root = ExtResource("14_pp3wn")
anim_player = NodePath("../MeshParent/Myck2/AnimationPlayer")
parameters/OneShotBlend/active = 0.0
parameters/OneShotBlend/internal_active = 1.58333
parameters/OneShotBlend/request = 0
parameters/TimeScale/scale = 1.0

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]

[node name="hurt_box" type="Area3D" parent="."]
collision_layer = 16
collision_mask = 0
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="hurt_box"]
shape = SubResource("CapsuleShape3D_7prqh")

[node name="Hitbox" type="Area3D" parent="."]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0)
visible = false
collision_layer = 0
collision_mask = 32
monitoring = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hitbox"]
shape = SubResource("SphereShape3D_rioum")

[node name="Slash_VFX" parent="Hitbox" instance=ExtResource("16_870r4")]
transform = Transform3D(-0.802036, 0.298638, 0.517255, 0.597275, 0.401018, 0.694584, 4.37114e-08, 0.866025, -0.5, 0, 0, 0)

[node name="MeshInstance3D" parent="Hitbox/Slash_VFX" index="0"]
transform = Transform3D(-0.707104, 0, 0.70711, 0, 1, 0, -0.70711, 0, -0.707104, 0, 0, 0)

[node name="Hit_VFX" parent="Hitbox/Slash_VFX" instance=ExtResource("17_ehk3w")]
transform = Transform3D(1, -5.34908e-09, 8.94067e-08, 1.6843e-08, 1, -2.98023e-08, -1.12345e-07, 2.98023e-08, 1, 0.694143, 0.343748, 0.595388)
visible = false

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("small_area", "big_area")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 10)
fov = 90.0
script = ExtResource("24_nb4kq")
small_area = NodePath("small_area")
big_area = NodePath("big_area")

[node name="small_area" type="Area3D" parent="Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10)
collision_layer = 0
collision_mask = 4
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Camera3D/small_area"]
shape = SubResource("BoxShape3D_8lqrv")

[node name="big_area" type="Area3D" parent="Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -10)
collision_layer = 0
collision_mask = 4
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Camera3D/big_area"]
shape = SubResource("BoxShape3D_870r4")

[node name="Node3D" type="Node3D" parent="."]

[node name="Node3D2" type="Node3D" parent="."]

[editable path="MeshParent/Myck2"]
[editable path="Hitbox/Slash_VFX"]
