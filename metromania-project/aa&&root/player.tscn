[gd_scene load_steps=27 format=3 uid="uid://h8a8r2wb5lu3"]

[ext_resource type="Script" uid="uid://bcji03sv3g5eh" path="res://entities/player/player.gd" id="1_symyc"]
[ext_resource type="Resource" uid="uid://d0781vuxbhofs" path="res://input/left_right.tres" id="2_wvtmh"]
[ext_resource type="Resource" uid="uid://c8h8ki5lw8ydw" path="res://input/up_down.tres" id="3_7thud"]
[ext_resource type="Resource" uid="uid://n7cvsuoh381r" path="res://input/jump.tres" id="4_a1qjk"]
[ext_resource type="Resource" uid="uid://djbmv3glvtkcn" path="res://input/dash.tres" id="5_j3ovn"]
[ext_resource type="Resource" uid="uid://dn7xm7551du3c" path="res://input/throw.tres" id="6_afbqv"]
[ext_resource type="Resource" uid="uid://dscups0415vf3" path="res://input/attack.tres" id="7_gx6sm"]
[ext_resource type="Script" uid="uid://cgrmmvxxkccrt" path="res://entities/player/auto_aim.gd" id="8_7thud"]
[ext_resource type="PackedScene" uid="uid://c3apf5nk6yw5c" path="res://entities/Myck/Myck.glb" id="9_7prqh"]
[ext_resource type="Material" uid="uid://b0gg4eyj3yc7q" path="res://materials/shader_materials/surface0.tres" id="11_8lqrv"]
[ext_resource type="Material" uid="uid://bc1xo71qbof0p" path="res://materials/shader_materials/surface1.tres" id="12_870r4"]
[ext_resource type="Material" uid="uid://3och035os5v1" path="res://materials/shader_materials/surface2.tres" id="13_ehk3w"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://dwh5faypa8v5s" path="res://entities/Myck/Myck_Animations/animation_tree.tres" id="14_pp3wn"]
[ext_resource type="PackedScene" uid="uid://gbaybbokp4yw" path="res://materials/shader_materials/slash_vfx.tscn" id="16_870r4"]
[ext_resource type="PackedScene" uid="uid://t8ldqeok401r" path="res://materials/shader_materials/hit_vfx.tscn" id="17_ehk3w"]

[sub_resource type="Curve" id="Curve_symyc"]
_data = [Vector2(0, 0), 0.0, 4.50435, 0, 0, Vector2(0.15, 0.75), 0.0, 0.0, 0, 0, Vector2(0.973, 0.75), 0.0, 0.0, 0, 0, Vector2(1, 1), 1.38649, 0.0, 0, 0]
point_count = 4

[sub_resource type="Curve" id="Curve_abrql"]
_data = [Vector2(0, 1), 0.0, -0.080464, 0, 0, Vector2(1e-05, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -2.95077, 0.0, 0, 0]
point_count = 3

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_pwfib"]

[sub_resource type="BoxShape3D" id="BoxShape3D_fkugw"]
size = Vector3(15, 10, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_bls4j"]
size = Vector3(0.996185, 1.54065, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_rioum"]
size = Vector3(1.445, 2.65, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_rioum"]
radius = 0.4
height = 1.8

[sub_resource type="SphereShape3D" id="SphereShape3D_870r4"]

[sub_resource type="BoxShape3D" id="BoxShape3D_8fjmc"]
size = Vector3(0.1, 1.75, 1)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7prqh"]
radius = 0.676854
height = 2.04704

[sub_resource type="SphereShape3D" id="SphereShape3D_rioum"]
radius = 0.969567

[node name="Myck" type="CharacterBody3D" node_paths=PackedStringArray("mesh", "VFX_anim_player", "Hit_VFX", "hit_box", "hurt_box") groups=["player"]]
collision_layer = 4
collision_mask = 3
axis_lock_linear_z = true
script = ExtResource("1_symyc")
speed = 18.0
acceleration_curve = SubResource("Curve_symyc")
deceleration_curve = SubResource("Curve_abrql")
ledge_grab_offset = -1.0
camera_zoom_min = 0.0
camera_zoom_max = 10.0
mesh = NodePath("MeshParent")
VFX_anim_player = NodePath("Hitbox/Slash_VFX/AnimationPlayer")
Hit_VFX = NodePath("Hitbox/Slash_VFX/Hit_VFX")
left_right = ExtResource("2_wvtmh")
up_down = ExtResource("3_7thud")
jump_action = ExtResource("4_a1qjk")
dash_action = ExtResource("5_j3ovn")
throw_action = ExtResource("6_afbqv")
attack_action = ExtResource("7_gx6sm")
hit_box = NodePath("Hitbox")
hurt_box = NodePath("hurt_box")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_pwfib")

[node name="MeshParent" type="Marker3D" parent="."]

[node name="AutoAim" type="Area3D" parent="MeshParent"]
collision_layer = 0
collision_mask = 64
monitorable = false
script = ExtResource("8_7thud")

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/AutoAim"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.5, 2, 0)
shape = SubResource("BoxShape3D_fkugw")

[node name="PickChild" type="Area3D" parent="MeshParent"]
visible = false
collision_layer = 0
collision_mask = 8
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/PickChild"]
shape = SubResource("BoxShape3D_bls4j")

[node name="Checkpoint" type="Area3D" parent="MeshParent"]
visible = false
collision_layer = 128
collision_mask = 0
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/Checkpoint"]
shape = SubResource("BoxShape3D_rioum")
debug_color = Color(0.670588, 0.564706, 0, 1)

[node name="SpikeHurtbox" type="Area3D" parent="MeshParent"]
collision_layer = 0
collision_mask = 256
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/SpikeHurtbox"]
shape = SubResource("CapsuleShape3D_rioum")
debug_color = Color(1, 0, 0, 1)

[node name="ChildContainer" type="Node3D" parent="MeshParent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.8, 0.5, 0)

[node name="LedgeGrab" type="RayCast3D" parent="MeshParent"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.603506, 1.16547, 0)
hit_back_faces = false

[node name="CheckCollisions" type="ShapeCast3D" parent="MeshParent/LedgeGrab"]
shape = SubResource("SphereShape3D_870r4")
target_position = Vector3(0, 1, 0)
debug_shape_custom_color = Color(1, 0, 0, 1)

[node name="WallJump" type="ShapeCast3D" parent="MeshParent"]
shape = SubResource("BoxShape3D_8fjmc")
target_position = Vector3(0.555, 0, 0)

[node name="Myck2" parent="MeshParent" instance=ExtResource("9_7prqh")]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 0, -0.980292, 0)

[node name="Skeleton3D" parent="MeshParent/Myck2/Deform Armature" index="0"]
bones/0/position = Vector3(-0.2, 0.5, 0.4)
bones/0/rotation = Quaternion(0.300319, 0.852078, -0.034974, 0.427258)
bones/0/scale = Vector3(1, 1, 1)
bones/1/position = Vector3(-0.254046, 0.476957, 0.217733)
bones/1/rotation = Quaternion(0.741844, -0.121818, 0.121795, -0.64807)
bones/1/scale = Vector3(0.975634, 0.975634, 0.975634)
bones/2/position = Vector3(-0.260742, 0.438809, -0.0723832)
bones/2/rotation = Quaternion(0.927947, -0.165792, -0.0467604, 0.330517)
bones/2/scale = Vector3(1.00819, 1.00819, 1.00819)
bones/3/position = Vector3(-0.385066, 0.112463, 0.210109)
bones/3/rotation = Quaternion(0.778451, 0.138497, 0.184703, -0.58371)
bones/3/scale = Vector3(0.980105, 0.980105, 0.980105)
bones/4/position = Vector3(-0.288985, 0.05, 0.0190605)
bones/4/rotation = Quaternion(-0.688006, -0.163243, -0.163243, 0.688006)
bones/5/position = Vector3(-0.11769, 0.332385, 0.442469)
bones/5/rotation = Quaternion(0.955027, 0.199445, -0.219184, 0.0102213)
bones/5/scale = Vector3(0.983466, 0.983466, 0.983466)
bones/6/position = Vector3(-0.00397275, 0.0608797, 0.422434)
bones/6/rotation = Quaternion(0.496737, 0.291524, 0.0532332, 0.815741)
bones/6/scale = Vector3(0.968709, 0.968709, 0.968709)
bones/7/position = Vector3(0.0835416, 0.277036, 0.785597)
bones/7/rotation = Quaternion(0.96458, 0.0302825, 0.228866, -0.127629)
bones/7/scale = Vector3(1.0337, 1.0337, 1.0337)
bones/8/position = Vector3(0.111015, 0.05, 0.73094)
bones/8/rotation = Quaternion(-0.688006, -0.163243, -0.163243, 0.688006)
bones/9/position = Vector3(-0.0788777, 0.682725, 0.444056)
bones/9/rotation = Quaternion(0.190278, 0.649191, -0.156055, 0.719717)
bones/9/scale = Vector3(1.18486, 0.712311, 1.18486)
bones/10/position = Vector3(-6.71141e-15, 0.85, 0.425)
bones/10/rotation = Quaternion(0.240715, 0.664873, -0.299922, 0.640349)
bones/11/position = Vector3(0.194453, 1.04446, 0.4)
bones/11/rotation = Quaternion(0.31328, 0.633149, -0.313893, 0.634389)
bones/11/scale = Vector3(0.867865, 1.32769, 0.867865)
bones/12/position = Vector3(0.3, 1.125, 0.4)
bones/12/rotation = Quaternion(-0.707107, 0, 0, 0.707107)
bones/13/position = Vector3(0.25, 1.325, 0.5)
bones/13/rotation = Quaternion(-0.0287533, 0.997151, 0.0676056, 0.0170754)
bones/13/scale = Vector3(1, 1, 1)
bones/14/position = Vector3(0.35, 1.325, 0.5)
bones/14/rotation = Quaternion(0.364291, 0.893404, 0.250002, 0.0813648)
bones/15/position = Vector3(0.154659, 0.995058, 0.531249)
bones/15/rotation = Quaternion(0.813226, 0.401975, 0.140612, 0.396621)
bones/15/scale = Vector3(1.41637, 1.41637, 1.41637)
bones/16/position = Vector3(0.231463, 0.943754, 0.638628)
bones/16/rotation = Quaternion(0.567084, 0.470586, 0.189313, 0.648941)
bones/16/scale = Vector3(1.47519, 0.642245, 1.47519)
bones/17/position = Vector3(0.253035, 0.965112, 0.7071)
bones/17/rotation = Quaternion(0.090978, 0.199745, 0.221859, 0.950055)
bones/17/scale = Vector3(1.60227, 0.642245, 1.60227)
bones/18/position = Vector3(0.220051, 1.04089, 0.729491)
bones/18/rotation = Quaternion(-0.0171786, 0.108908, 0.283466, 0.952623)
bones/18/scale = Vector3(1.74192, 0.642245, 1.74192)
bones/19/position = Vector3(0.173211, 1.11313, 0.73199)
bones/19/rotation = Quaternion(0.0699426, -0.0503214, -0.348361, -0.933392)
bones/19/scale = Vector3(1.89414, 0.642245, 1.89414)
bones/20/position = Vector3(0.116573, 1.17754, 0.723761)
bones/20/rotation = Quaternion(0.122826, 0.00695299, -0.456047, -0.881412)
bones/20/scale = Vector3(2.05894, 0.642245, 2.05894)
bones/21/position = Vector3(0.0477319, 1.22507, 0.704636)
bones/21/rotation = Quaternion(0.202189, 0.0701625, -0.677883, -0.703329)
bones/21/scale = Vector3(2.23632, 0.642245, 2.23631)
bones/22/position = Vector3(-0.0297322, 1.225, 0.672858)
bones/22/rotation = Quaternion(0.186203, 0.124144, -0.822565, -0.522785)
bones/22/scale = Vector3(2.32972, 2.32972, 2.32972)
bones/23/position = Vector3(-0.376777, 0.579057, 0.558114)
bones/23/rotation = Quaternion(0.194121, 0.837319, 0.161729, 0.484827)
bones/23/scale = Vector3(1, 1, 1)
bones/24/position = Vector3(0.138654, 0.979053, 0.282276)
bones/24/rotation = Quaternion(0.395551, -0.795402, 0.431254, -0.157783)
bones/24/scale = Vector3(1.41637, 1.41637, 1.41637)
bones/25/position = Vector3(0.0688056, 1.02369, 0.167427)
bones/25/rotation = Quaternion(0.390427, -0.758245, 0.489362, -0.182087)
bones/25/scale = Vector3(1.43014, 1.09364, 1.43014)
bones/26/position = Vector3(0.0107453, 1.05401, 0.0433719)
bones/26/rotation = Quaternion(-0.436198, 0.672859, -0.518012, 0.297751)
bones/26/scale = Vector3(1.44254, 1.09364, 1.44254)
bones/27/position = Vector3(-0.0284349, 1.06566, -0.0912307)
bones/27/rotation = Quaternion(-0.485431, 0.587393, -0.507966, 0.401618)
bones/27/scale = Vector3(1.43476, 1.09364, 1.43476)
bones/28/position = Vector3(-0.0512609, 1.06744, -0.230029)
bones/28/rotation = Quaternion(0.521895, -0.489353, 0.484668, -0.503245)
bones/28/scale = Vector3(1.4068, 1.09364, 1.4068)
bones/29/position = Vector3(-0.0544927, 1.06539, -0.370683)
bones/29/rotation = Quaternion(0.484505, -0.333185, 0.48837, -0.644777)
bones/29/scale = Vector3(1.35866, 1.09364, 1.35866)
bones/30/position = Vector3(-0.0121657, 1.07277, -0.501728)
bones/30/rotation = Quaternion(0.0131746, -0.131855, -0.551622, 0.823501)
bones/30/scale = Vector3(1.29034, 1.09364, 1.29034)
bones/31/position = Vector3(0.104422, 1.12315, -0.480194)
bones/31/rotation = Quaternion(0.227242, -0.233378, -0.509849, 0.79621)
bones/31/scale = Vector3(1.24861, 1.24861, 1.24861)
bones/32/position = Vector3(0.3, 1.4, 0.35)

[node name="Myck" parent="MeshParent/Myck2/Deform Armature/Skeleton3D" index="0"]
surface_material_override/0 = ExtResource("11_8lqrv")
surface_material_override/1 = ExtResource("12_870r4")
surface_material_override/2 = ExtResource("13_ehk3w")

[node name="CameraPivot" type="Node3D" parent="."]

[node name="Camera3D" type="Camera3D" parent="CameraPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3, 15)

[node name="WallJumpFreezeTimer" type="Timer" parent="."]
one_shot = true

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../MeshParent/Myck2")
tree_root = ExtResource("14_pp3wn")
anim_player = NodePath("../MeshParent/Myck2/AnimationPlayer")
parameters/OneShotBlend/active = 0.0
parameters/OneShotBlend/internal_active = 1.58333
parameters/OneShotBlend/request = 0
parameters/TimeScale/scale = 1.0

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="."]

[node name="hurt_box" type="Area3D" parent="."]
collision_layer = 16
collision_mask = 0
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="hurt_box"]
shape = SubResource("CapsuleShape3D_7prqh")

[node name="Hitbox" type="Area3D" parent="."]
transform = Transform3D(-4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0, 1, 0, 0, 0)
visible = false
collision_layer = 0
collision_mask = 32
monitoring = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="Hitbox"]
shape = SubResource("SphereShape3D_rioum")

[node name="Slash_VFX" parent="Hitbox" instance=ExtResource("16_870r4")]
transform = Transform3D(-0.802036, 0.298638, 0.517255, 0.597275, 0.401018, 0.694584, 4.37114e-08, 0.866025, -0.5, 0, 0, 0)

[node name="MeshInstance3D" parent="Hitbox/Slash_VFX" index="0"]
transform = Transform3D(-0.707104, 0, 0.70711, 0, 1, 0, -0.70711, 0, -0.707104, 0, 0, 0)

[node name="Hit_VFX" parent="Hitbox/Slash_VFX" instance=ExtResource("17_ehk3w")]
transform = Transform3D(1, -5.34908e-09, 8.94067e-08, 1.6843e-08, 1, -2.98023e-08, -1.12345e-07, 2.98023e-08, 1, 0.694143, 0.343748, 0.595388)
visible = false

[editable path="MeshParent/Myck2"]
[editable path="Hitbox/Slash_VFX"]
