[gd_scene load_steps=14 format=3 uid="uid://batbj1n45877r"]

[ext_resource type="Script" uid="uid://dx7imsfyrvyya" path="res://entities/player/alice.gd" id="1_n5soy"]
[ext_resource type="Resource" uid="uid://bwv7mx7ef41bo" path="res://input/left_right_alice.tres" id="2_10ynb"]
[ext_resource type="AnimationNodeBlendTree" uid="uid://xrph22dtmo0l" path="res://entities/player/animation_tree.tres" id="3_68r1g"]
[ext_resource type="Resource" uid="uid://6tf3g3n7urmk" path="res://input/up_down_alice.tres" id="3_pp5tp"]
[ext_resource type="Resource" uid="uid://mon2mvh3sfir" path="res://input/jump_alice.tres" id="4_ob2l6"]
[ext_resource type="Resource" uid="uid://1e5trfcp6ufe" path="res://input/dash_alice.tres" id="5_5aodh"]
[ext_resource type="PackedScene" uid="uid://bfawxn70re0mu" path="res://entities/amelia/Amelia(formerly known as Alice).glb" id="6_ob2l6"]

[sub_resource type="Curve" id="Curve_68r1g"]
_data = [Vector2(0, 0), 0.0, 2.94163, 0, 0, Vector2(1, 1), 0.7204, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_3720w"]
_data = [Vector2(0.00308643, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), -3.12435, 0.0, 0, 0]
point_count = 2

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_bls4j"]
radius = 0.25
height = 1.0

[sub_resource type="BoxShape3D" id="BoxShape3D_68r1g"]
size = Vector3(0.863281, 1.24164, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_10ynb"]
size = Vector3(0.32, 1.145, 1)

[sub_resource type="SphereShape3D" id="SphereShape3D_ob2l6"]
radius = 0.9

[node name="Alice" type="CharacterBody3D" node_paths=PackedStringArray("mesh", "hit_box", "hurt_box") groups=["player"]]
collision_layer = 8
collision_mask = 3
script = ExtResource("1_n5soy")
acceleration_curve = SubResource("Curve_68r1g")
deceleration_curve = SubResource("Curve_3720w")
mesh = NodePath("MeshParent")
left_right = ExtResource("2_10ynb")
up_down = ExtResource("3_pp5tp")
jump_action = ExtResource("4_ob2l6")
dash_action = ExtResource("5_5aodh")
hit_box = NodePath("BoneAttachment3D/Hitbox")
hurt_box = NodePath("MeshParent/MeshChild/hurt_box")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_bls4j")

[node name="MeshParent" type="Marker3D" parent="."]

[node name="MeshChild" type="Marker3D" parent="MeshParent"]
transform = Transform3D(0.49, 0, 0, 0, 0.49, 0, 0, 0, 0.49, 0, 0, 0)

[node name="InteractionBox" type="Area3D" parent="MeshParent/MeshChild"]
collision_layer = 0
collision_mask = 68
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/MeshChild/InteractionBox"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00390625, 0.0499573, 0)
shape = SubResource("BoxShape3D_68r1g")
debug_color = Color(1, 0.6, 0.701961, 1)
debug_fill = false

[node name="hurt_box" type="Area3D" parent="MeshParent/MeshChild"]
collision_layer = 16
collision_mask = 0
monitoring = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="MeshParent/MeshChild/hurt_box"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00390625, 0.0499573, 0)
shape = SubResource("BoxShape3D_68r1g")
debug_color = Color(1, 0.6, 0.701961, 1)
debug_fill = false

[node name="LedgeGrab" type="RayCast3D" parent="MeshParent/MeshChild"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.759068, 0.787161, 0)
target_position = Vector3(0, -0.8, 0)

[node name="CheckCollisions" type="RayCast3D" parent="MeshParent/MeshChild/LedgeGrab"]
target_position = Vector3(0, 1, 0)
debug_shape_custom_color = Color(1, 0, 0, 1)

[node name="WallJump" type="ShapeCast3D" parent="MeshParent/MeshChild"]
shape = SubResource("BoxShape3D_10ynb")
target_position = Vector3(0.555, 0, 0)

[node name="Amelia(formerly known as Alice)" parent="MeshParent/MeshChild" instance=ExtResource("6_ob2l6")]
transform = Transform3D(2.04082, 0, 0, 0, 2.04082, 0, 0, 0, 2.04082, 0, 0, 0)

[node name="Skeleton3D" parent="MeshParent/MeshChild/Amelia(formerly known as Alice)/Armature" index="0"]
bones/0/rotation = Quaternion(-0.707107, 7.85046e-17, -7.85046e-17, 0.707107)
bones/0/scale = Vector3(0.219836, 0.219836, 0.219836)
bones/1/position = Vector3(-0.00471083, -0.145986, 2.78003)
bones/1/rotation = Quaternion(0.244469, 0.739437, 0.583614, 0.22992)
bones/2/rotation = Quaternion(6.51926e-09, 5.90782e-08, -4.65661e-09, 1)
bones/3/rotation = Quaternion(0.112817, 1.26536e-08, -1.03104e-08, 0.993616)
bones/4/rotation = Quaternion(-0.128466, -0.144147, -0.00874653, 0.981143)
bones/5/position = Vector3(-1.33594e-07, 0.828469, -0.715194)
bones/5/rotation = Quaternion(0.96949, 1.48731e-08, -1.341e-07, -0.245131)
bones/6/rotation = Quaternion(-0.0337722, -2.04591e-08, 1.74597e-08, 0.99943)
bones/7/position = Vector3(0.39117, 0.716971, -0.558388)
bones/7/rotation = Quaternion(0.982958, 0.0110983, 0.00735984, -0.183348)
bones/8/rotation = Quaternion(-0.0369904, 0.000338095, 0.0160268, 0.999187)
bones/10/position = Vector3(-1.58913e-08, 1.31391, -0.0155749)
bones/10/rotation = Quaternion(-0.00184229, -6.52846e-09, -4.99314e-09, 0.999998)
bones/11/position = Vector3(-0.39117, 0.716971, -0.558388)
bones/11/rotation = Quaternion(0.982958, -0.0110983, -0.00735986, -0.183348)
bones/12/rotation = Quaternion(-0.0369904, -0.000338113, -0.0160267, 0.999187)
bones/14/position = Vector3(0.525514, 0.027208, 9.68233e-08)
bones/14/rotation = Quaternion(0.11417, -0.355008, 0.927778, 0.0127277)
bones/15/rotation = Quaternion(0.506647, -3.82178e-05, 0.267448, 0.819622)
bones/16/position = Vector3(-0.525514, 0.0272082, 9.75512e-08)
bones/16/rotation = Quaternion(0.54857, -0.205043, 0.766575, 0.263422)
bones/17/rotation = Quaternion(0.537845, 3.69605e-05, -0.283917, 0.793797)
bones/18/rotation = Quaternion(0.949959, 0.0897873, -0.163467, 0.25059)
bones/18/scale = Vector3(0.972891, 0.972892, 0.972897)
bones/19/rotation = Quaternion(0.32976, 2.09698e-08, -1.46425e-07, 0.944065)
bones/19/scale = Vector3(1.00925, 1.00925, 1.00925)
bones/20/position = Vector3(0.690767, -0.407607, 0.0137959)
bones/20/rotation = Quaternion(0.940728, 0.249173, -0.214977, 0.0820285)
bones/21/position = Vector3(0.349248, -0.330494, -0.346917)
bones/21/rotation = Quaternion(0.973102, 0.0546036, -0.19285, 0.113579)
bones/22/rotation = Quaternion(0.997181, 0.0629181, 0.000825224, 0.0408788)
bones/22/scale = Vector3(1.03811, 0.927928, 1.03811)
bones/23/rotation = Quaternion(0.854848, 0.000491693, -0.457464, 0.24487)
bones/23/scale = Vector3(0.975019, 0.975021, 0.975028)
bones/24/rotation = Quaternion(0.299769, -1.91818e-08, 7.74246e-08, 0.954012)
bones/24/scale = Vector3(1.00855, 1.00855, 1.00855)
bones/25/position = Vector3(-0.690767, -0.407607, 0.0137962)
bones/25/rotation = Quaternion(0.909683, -0.0925906, -0.223441, 0.337608)
bones/26/position = Vector3(-0.349248, -0.330494, -0.346917)
bones/26/rotation = Quaternion(0.985718, 0.127449, 0.108689, -0.0174105)
bones/27/rotation = Quaternion(0.993025, -0.0375509, -0.000492587, 0.111766)
bones/27/scale = Vector3(1.03206, 0.938836, 1.03206)
bones/28/position = Vector3(-0.657168, -0.0763822, 0.0748725)
bones/28/rotation = Quaternion(0.00213109, -0.00457857, 0.999937, -0.00999788)
bones/29/rotation = Quaternion(0.998178, -6.10854e-09, -4.38924e-08, -0.0603418)
bones/29/scale = Vector3(1, 1, 0.999997)
bones/30/rotation = Quaternion(-0.0153621, 9.51617e-11, -1.13217e-09, 0.999882)
bones/31/rotation = Quaternion(0.998178, -6.60155e-09, -4.39289e-08, -0.0603418)
bones/32/position = Vector3(0.561277, -0.576717, 0.0748724)
bones/32/rotation = Quaternion(-0.00333776, -0.00378997, 0.956371, 0.292111)
bones/33/rotation = Quaternion(0.998178, 4.2416e-08, -4.00105e-07, -0.0603418)
bones/33/scale = Vector3(1, 1, 0.999997)
bones/34/rotation = Quaternion(-0.0153621, -2.11081e-09, 6.84801e-09, 0.999882)
bones/35/rotation = Quaternion(0.998178, 4.45088e-08, -4.00814e-07, -0.0603418)
bones/36/position = Vector3(-0.950979, 0.147899, 2.51303)
bones/36/rotation = Quaternion(0.321457, 0.19145, 0.859157, 0.349087)
bones/37/rotation = Quaternion(-0.00167533, 0.173361, 0.984811, -0.00951384)
bones/40/rotation = Quaternion(-0.00960853, -0.00022041, -0.0266533, 0.999599)
bones/44/position = Vector3(-1.90721, -1.98003, 4.49391)
bones/44/rotation = Quaternion(0, 0, 1, -2.94179e-31)
bones/45/position = Vector3(1.90721, -1.98003, 4.49391)
bones/45/rotation = Quaternion(0, 0, 1, -2.94179e-31)
bones/46/position = Vector3(0.933176, -0.216293, 2.51303)
bones/46/rotation = Quaternion(-0.301666, 0.0755001, 0.871986, -0.378072)
bones/50/rotation = Quaternion(-0.00960852, 0.000220416, 0.0266533, 0.999599)
bones/54/position = Vector3(0.313081, 2.08093, 1.69524)
bones/55/position = Vector3(-0.313081, 2.08093, 1.69524)
bones/55/rotation = Quaternion(-1.15762e-21, 1, 7.10543e-15, -1.94707e-07)
bones/56/rotation = Quaternion(-0.707107, 2.33962e-23, -1.57009e-16, 0.707107)
bones/56/scale = Vector3(0.219836, 0.219836, 0.219836)

[node name="AnimationTree" type="AnimationTree" parent="."]
root_node = NodePath("../MeshParent/MeshChild/Amelia(formerly known as Alice)")
tree_root = ExtResource("3_68r1g")
anim_player = NodePath("../MeshParent/MeshChild/Amelia(formerly known as Alice)/AnimationPlayer")
parameters/Add2/add_amount = 0
parameters/OneShotBlend/active = false
parameters/OneShotBlend/internal_active = false
parameters/OneShotBlend/request = 0
parameters/TimeScale/scale = 1.0

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="."]
transform = Transform3D(0.077009, 0.103681, 0.166476, -0.0431763, -0.1655, 0.123045, 0.191311, -0.079086, -0.0392426, 0.197006, -0.322827, 0.271758)
bone_name = "Palm2.R"
use_external_skeleton = true
external_skeleton = NodePath("")

[node name="Hitbox" type="Area3D" parent="BoneAttachment3D"]
collision_layer = 0
collision_mask = 32
monitoring = false
monitorable = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="BoneAttachment3D/Hitbox"]
shape = SubResource("SphereShape3D_ob2l6")

[editable path="MeshParent/MeshChild/Amelia(formerly known as Alice)"]
